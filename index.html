<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="RIFT - Dein digitaler Begleiter für Pen & Paper Rollenspiele">
    <meta name="theme-color" content="#161616">
    <title>RIFT – Hub</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icons/icon_rift_r.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="assets/img/logo_rift.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="RIFT">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/hubv2.css">
</head>
<body>
    
    <!-- TOP NAV -->
    <header class="topnav">
        <div class="topnav__inner">
            <a href="index.html" class="topnav__logo">
                <img src="assets/img/logo_rift.png" alt="RIFT">
            </a>
            
            <div class="topnav__search">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"/></svg>
                <input type="text" placeholder="Suchen..." id="globalSearch">
            </div>
            
            <div class="topnav__spacer"></div>
            
            <div class="topnav__right">
                <!-- Party Dropdown (nur sichtbar wenn in Room) -->
                <div class="topnav__dropdown-trigger" id="partyDropdown" style="display: none;">
                    <div class="topnav__party">
                        <div class="topnav__party-avatars" id="partyAvatars"></div>
                        <div class="topnav__party-info">
                            <span class="topnav__party-label">Party</span>
                            <span class="topnav__party-status" id="partyOnlineStatus">0 Online</span>
                        </div>
                    </div>
                    <div class="topnav__dropdown topnav__dropdown--party">
                        <div class="topnav__dropdown-header">
                            <div class="topnav__dropdown-title" id="partyRoomName">Party</div>
                            <div class="topnav__dropdown-value" id="partyOnlineCount">0 online</div>
                        </div>
                        <div class="topnav__dropdown-body" id="partyMembersList"></div>
                    </div>
                </div>
                
                <!-- Room Code Dropdown (nur sichtbar wenn in Room) -->
                <div class="topnav__dropdown-trigger" id="roomCodeDropdown" style="display: none;">
                    <div class="topnav__room">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 7V3a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-4v4a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h4zm0 2H4v10h10v-4H8a1 1 0 0 1-1-1V9zm2-4v10h10V4H9z"/></svg>
                        <code id="roomCodeDisplay">---</code>
                    </div>
                    <div class="topnav__dropdown topnav__dropdown--room">
                        <div class="topnav__dropdown-header">
                            <div class="topnav__dropdown-title">Session Raumcode</div>
                            <div class="topnav__dropdown-value">Teile diesen Code</div>
                        </div>
                        <div class="topnav__dropdown-room-code">
                            <code id="roomCodeLarge">------</code>
                            <button class="topnav__dropdown-room-copy" title="Code kopieren" onclick="HubV2.copyRoomCode()">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                            </button>
                        </div>
                        <div class="topnav__dropdown-body">
                            <a href="#" class="topnav__dropdown-item" onclick="HubV2.shareRoomLink(); return false;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
                                Link teilen
                            </a>
                            <div class="topnav__dropdown-divider"></div>
                            <a href="#" class="topnav__dropdown-item topnav__dropdown-item--danger" onclick="HubV2.leaveRoom(); return false;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                                Session verlassen
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="topnav__divider" id="topnavDivider"></div>
                
                <!-- Notifications -->
                <button class="topnav__icon-btn" id="notificationsBtn">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.451 2.344a1 1 0 0 1 1.41-.099a12.06 12.06 0 0 1 3.048 4.064a1 1 0 1 1-1.818.836a10.06 10.06 0 0 0-2.54-3.39a1 1 0 0 1-.1-1.41zm-10.902-.099a1 1 0 0 1-.1 1.41a10.06 10.06 0 0 0-2.54 3.391a1 1 0 1 1-1.818-.836a12.06 12.06 0 0 1 3.048-4.064a1 1 0 0 1 1.41.1zM12 2a7 7 0 0 1 7 7v3.528l1.9 3.164a1 1 0 0 1-.858 1.508H3.958a1 1 0 0 1-.857-1.508L5 12.528V9a7 7 0 0 1 7-7zM9.5 20.5a2.5 2.5 0 1 0 5 0z"/></svg>
                    <span class="badge" id="notificationBadge" style="display: none;"></span>
                </button>
                
                <!-- Settings -->
                <button class="topnav__icon-btn" onclick="window.location.href='user-settings.html'">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M14.647 4.081a.724.724 0 0 0 1.08.448c2.439-1.4 5.243 1.404 3.844 3.844a.724.724 0 0 0 .448 1.08c2.608.769 2.608 4.326 0 5.094a.724.724 0 0 0-.448 1.08c1.4 2.44-1.404 5.244-3.844 3.844a.724.724 0 0 0-1.08.448c-.769 2.608-4.326 2.608-5.094 0a.724.724 0 0 0-1.08-.448c-2.44 1.4-5.244-1.404-3.844-3.844a.724.724 0 0 0-.448-1.08c-2.608-.769-2.608-4.326 0-5.094a.724.724 0 0 0 .448-1.08c-1.4-2.44 1.404-5.244 3.844-3.844a.724.724 0 0 0 1.08-.448c.769-2.608 4.326-2.608 5.094 0zM12 8a4 4 0 1 0 0 8a4 4 0 0 0 0-8z"/></svg>
                </button>
                
                <!-- User Dropdown -->
                <div class="topnav__dropdown-trigger">
                    <div class="topnav__user" id="userDisplay">
                        <div class="topnav__user-avatar" id="userAvatar"></div>
                        <span class="topnav__user-name" id="userName">Laden...</span>
                    </div>
                    <div class="topnav__dropdown topnav__dropdown--user">
                        <div class="topnav__dropdown-user-header">
                            <div class="topnav__dropdown-user-avatar" id="userAvatarLarge"></div>
                            <div class="topnav__dropdown-user-info">
                                <div class="topnav__dropdown-user-name" id="userNameLarge">Spieler</div>
                                <div class="topnav__dropdown-user-email" id="userEmail"></div>
                            </div>
                        </div>
                        <div class="topnav__dropdown-body">
                            <a href="user-settings.html" class="topnav__dropdown-item">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                Mein Profil
                            </a>
                            <a href="sessions.html" class="topnav__dropdown-item">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
                                Meine Sessions
                            </a>
                            <a href="user-settings.html" class="topnav__dropdown-item">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                                Einstellungen
                            </a>
                            <div class="topnav__dropdown-divider"></div>
                            <a href="#" class="topnav__dropdown-item topnav__dropdown-item--danger" onclick="HubV2.signOut(); return false;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                                Abmelden
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- MEGA NAV -->
    <nav class="meganav">
        <div class="meganav__inner">
            <div class="meganav__item active" data-section="hub">
                <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5192 7.82274C2 8.77128 2 9.91549 2 12.2039V13.725C2 17.6258 2 19.5763 3.17157 20.7881C4.34315 22 6.22876 22 10 22H14C17.7712 22 19.6569 22 20.8284 20.7881C22 19.5763 22 17.6258 22 13.725V12.2039C22 9.91549 22 8.77128 21.4808 7.82274C20.9616 6.87421 20.0131 6.28551 18.116 5.10812L16.116 3.86687C14.1106 2.62229 13.1079 2 12 2C10.8921 2 9.88939 2.62229 7.88403 3.86687L5.88403 5.10813C3.98695 6.28551 3.0384 6.87421 2.5192 7.82274ZM9 17.25C8.58579 17.25 8.25 17.5858 8.25 18C8.25 18.4142 8.58579 18.75 9 18.75H15C15.4142 18.75 15.75 18.4142 15.75 18C15.75 17.5858 15.4142 17.25 15 17.25H9Z"/></svg>
                Hub
            </div>
            
            <!-- Sessions Dropdown -->
            <div class="meganav__item meganav__item--dropdown">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zM4 9v10h16V9H4z"/></svg>
                Sessions
                <svg class="meganav__arrow" viewBox="0 0 24 24" fill="currentColor"><path d="M12 16l-6-6h12z"/></svg>
                
                <div class="meganav__dropdown">
                    <div class="meganav__dropdown-grid">
                        <a href="sessions.html" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(255, 70, 85, 0.1); color: var(--accent);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Übersicht</span>
                                <span class="meganav__dropdown-desc">Alle Sessions</span>
                            </div>
                        </a>
                        <a href="session.html" class="meganav__dropdown-item" id="activeSessionLink" style="display: none;">
                            <div class="meganav__dropdown-icon" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Aktive Session</span>
                                <span class="meganav__dropdown-desc" id="activeSessionName">Weiterspielen</span>
                            </div>
                        </a>
                        <a href="sessions.html?action=create" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(139, 92, 246, 0.1); color: var(--purple);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Neue Session</span>
                                <span class="meganav__dropdown-desc">Kampagne erstellen</span>
                            </div>
                        </a>
                        <a href="sessions.html?action=join" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(6, 182, 212, 0.1); color: var(--cyan);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M14 14.252V22H4a8 8 0 0 1 10-7.748zM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm6 4h3v2h-3v3h-2v-3h-3v-2h3v-3h2v3z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Beitreten</span>
                                <span class="meganav__dropdown-desc">Mit Code joinen</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Charaktere Dropdown -->
            <div class="meganav__item meganav__item--dropdown">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/></svg>
                Charaktere
                <svg class="meganav__arrow" viewBox="0 0 24 24" fill="currentColor"><path d="M12 16l-6-6h12z"/></svg>
                
                <div class="meganav__dropdown">
                    <div class="meganav__dropdown-grid" id="characterDropdownGrid">
                        <!-- Dynamisch befüllt -->
                    </div>
                </div>
            </div>
            
            <!-- Tools Dropdown -->
            <div class="meganav__item meganav__item--dropdown">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M5.33 3.271a3.5 3.5 0 0 1 4.472 4.474L20.647 18.59l-2.122 2.121L7.68 9.867a3.5 3.5 0 0 1-4.472-4.474L5.444 7.63a1.5 1.5 0 1 0 2.121-2.121L5.329 3.27z"/></svg>
                Tools
                <svg class="meganav__arrow" viewBox="0 0 24 24" fill="currentColor"><path d="M12 16l-6-6h12z"/></svg>
                
                <div class="meganav__dropdown">
                    <div class="meganav__dropdown-grid">
                        <a href="dice.html" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(255, 70, 85, 0.1); color: var(--accent);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm2 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm10 10a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM7 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm5-5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm5-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Würfel</span>
                                <span class="meganav__dropdown-desc">3D Dice Roller</span>
                            </div>
                        </a>
                        <a href="chat.html" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(139, 92, 246, 0.1); color: var(--purple);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6.455 19L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Chat</span>
                                <span class="meganav__dropdown-desc">Party-Chat</span>
                            </div>
                        </a>
                        <a href="notes.html" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(245, 158, 11, 0.1); color: var(--gold);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 8v12.993A1 1 0 0 1 20.007 22H3.993A.993.993 0 0 1 3 21.008V2.992C3 2.455 3.449 2 4.002 2h10.995L21 8zm-2 1h-5V4H5v16h14V9z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Notizen</span>
                                <span class="meganav__dropdown-desc">Session-Notizen</span>
                            </div>
                        </a>
                        <a href="map.html" class="meganav__dropdown-item">
                            <div class="meganav__dropdown-icon" style="background: rgba(6, 182, 212, 0.1); color: var(--cyan);">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 5l7-3 6 3 6.303-2.701a.5.5 0 0 1 .697.46V19l-7 3-6-3-6.303 2.701a.5.5 0 0 1-.697-.46V5z"/></svg>
                            </div>
                            <div class="meganav__dropdown-text">
                                <span class="meganav__dropdown-title">Karten</span>
                                <span class="meganav__dropdown-desc">VTT Maps</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="meganav__spacer"></div>
            
            <!-- GM Center -->
            <a href="gm.html" class="meganav__item meganav__item--accent" id="gmCenterLink" style="display: none;">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 14v8H4a8 8 0 0 1 8-8zm0-1c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm9.446 7.032l1.504 1.503-1.414 1.414-1.504-1.503a4 4 0 1 1 1.414-1.414zM18 20a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>
                GM Center
            </a>
        </div>
    </nav>
    
    <!-- MAIN CONTENT -->
    <main class="main">
        
        <!-- Hero Carousel -->
        <section class="carousel" id="heroCarousel">
            <div class="carousel__track" id="carouselTrack">
                <!-- Slide 1: Willkommen -->
                <div class="carousel__slide" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);">
                    <div class="carousel__content">
                        <span class="carousel__tag">Willkommen</span>
                        <h2 class="carousel__title">Dein Abenteuer<br>beginnt hier</h2>
                        <p class="carousel__desc">Erschaffe Helden, würfle Schicksal, erlebe Geschichten – alles in einer App.</p>
                        <a href="sessions.html?action=create" class="carousel__btn">Session starten</a>
                    </div>
                    <div class="carousel__visual">
                        <img src="assets/img/rift_chars/full/char_worldsapart_01.png" alt="Hero" class="carousel__character">
                    </div>
                </div>
                
                <!-- Slide 2: Session -->
                <div class="carousel__slide carousel__slide--session" style="background: linear-gradient(135deg, var(--accent) 0%, #c73e4a 100%);" id="sessionSlide" data-has-session="false">
                    <div class="carousel__content">
                        <span class="carousel__tag" id="sessionSlideTag">Keine aktive Session</span>
                        <h2 class="carousel__title" id="sessionSlideTitle">Starte dein<br>nächstes Abenteuer</h2>
                        <p class="carousel__desc" id="sessionSlideDesc">Erstelle eine neue Session oder tritt einer bestehenden bei.</p>
                        <a href="sessions.html" class="carousel__btn" id="sessionSlideBtn">Sessions ansehen</a>
                    </div>
                    <div class="carousel__visual">
                        <img src="assets/img/rift_chars/full/char_5e2024_03.png" alt="Session" class="carousel__character" id="sessionSlideCharacter">
                    </div>
                    <div class="carousel__countdown" id="carouselCountdown" style="display: none;">
                        <div class="carousel__countdown-item">
                            <span class="carousel__countdown-value" id="countdownDays">0</span>
                            <span class="carousel__countdown-label">Tage</span>
                        </div>
                        <div class="carousel__countdown-item">
                            <span class="carousel__countdown-value" id="countdownHours">0</span>
                            <span class="carousel__countdown-label">Stunden</span>
                        </div>
                        <div class="carousel__countdown-item">
                            <span class="carousel__countdown-value" id="countdownMins">0</span>
                            <span class="carousel__countdown-label">Min</span>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 3: Worlds Apart Promo -->
                <div class="carousel__slide" style="background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #1a4a6e 100%);">
                    <div class="carousel__content">
                        <span class="carousel__tag">Regelwerk</span>
                        <h2 class="carousel__title">Worlds Apart</h2>
                        <p class="carousel__desc">Entdecke ein einzigartiges Pen & Paper System mit innovativen Mechaniken.</p>
                        <a href="worldsapart.html" class="carousel__btn">Mehr erfahren</a>
                    </div>
                    <div class="carousel__visual">
                        <img src="assets/img/rift_chars/full/char_worldsapart_04.png" alt="Worlds Apart" class="carousel__character">
                    </div>
                </div>
            </div>
            
            <!-- Navigation -->
            <div class="carousel__nav">
                <button class="carousel__nav-btn carousel__nav-btn--prev" onclick="HubV2.prevSlide()">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10.828 12l4.95 4.95-1.414 1.415L8 12l6.364-6.364 1.414 1.414z"/></svg>
                </button>
                <div class="carousel__dots" id="carouselDots"></div>
                <button class="carousel__nav-btn carousel__nav-btn--next" onclick="HubV2.nextSlide()">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M13.172 12l-4.95-4.95 1.414-1.415L16 12l-6.364 6.364-1.414-1.414z"/></svg>
                </button>
            </div>
            
            <!-- Progress Bar -->
            <div class="carousel__progress">
                <div class="carousel__progress-bar" id="carouselProgress"></div>
            </div>
        </section>
        
        <!-- Quick Access Bar (Session & Character) -->
        <section class="quick-access">
            <div class="quick-access__header">
                <h2 class="quick-access__title">Weiterspielen</h2>
                <p class="quick-access__tagline">Springe direkt zurück in dein letztes Abenteuer</p>
            </div>
            <div class="quick-access__inner">
                
                <!-- Active Session Card -->
                <a href="#" class="qa-session" id="qaSessionCard" style="display: none;">
                    <div class="qa-session__cover" id="qaSessionCover">
                        <div class="qa-session__live" id="qaSessionLive" style="display: none;">
                            <span class="qa-session__live-dot"></span>
                            Aktiv
                        </div>
                    </div>
                    <div class="qa-session__content">
                        <span class="qa-session__label">Weiterspielen</span>
                        <h3 class="qa-session__title" id="qaSessionTitle">Session</h3>
                        <p class="qa-session__desc" id="qaSessionDesc"></p>
                        <div class="qa-session__meta">
                            <span class="qa-session__meta-item" id="qaSessionRuleset">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 4H3a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1zM4 6h16v2H4V6zm0 4h16v8H4v-8z"/></svg>
                                Worlds Apart
                            </span>
                            <span class="qa-session__meta-item" id="qaSessionPlayers">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2 22a8 8 0 1 1 16 0H2zm8-9c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm7.363 2.233A6.017 6.017 0 0 0 21.5 22h-4.1a9.956 9.956 0 0 0-.963-6.767zM17.5 14a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"/></svg>
                                4 Spieler
                            </span>
                        </div>
                    </div>
                </a>
                
                <!-- No Session Placeholder -->
                <div class="qa-session qa-session--empty" id="qaSessionEmpty">
                    <div class="qa-session__empty-content">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zM4 9v10h16V9H4z"/></svg>
                        <span>Keine aktive Session</span>
                        <a href="sessions.html?action=create" class="qa-session__empty-btn">Session erstellen</a>
                    </div>
                </div>
                
                <!-- Character Card -->
                <a href="#" class="qa-character" id="qaCharacterCard" style="display: none;">
                    <div class="qa-character__portrait" id="qaCharacterPortrait"></div>
                    <div class="qa-character__content">
                        <span class="qa-character__label">Dein Held</span>
                        <h3 class="qa-character__name" id="qaCharacterName">Charakter</h3>
                        <p class="qa-character__class" id="qaCharacterClass"></p>
                        <div class="qa-character__stats" id="qaCharacterStats">
                            <!-- Dynamisch befüllt -->
                        </div>
                    </div>
                    <div class="qa-character__glow"></div>
                </a>
                
                <!-- No Character Placeholder -->
                <div class="qa-character qa-character--empty" id="qaCharacterEmpty">
                    <div class="qa-character__empty-content">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/></svg>
                        <span>Kein Charakter</span>
                        <a href="sheet-worldsapart.html?new=true" class="qa-character__empty-btn">Charakter erstellen</a>
                    </div>
                </div>
                
            </div>
        </section>
        
        <!-- News Section -->
        <section class="news-section">
            <div class="news-section__header">
                <h2 class="news-section__title">Neuigkeiten</h2>
                <a href="news.html" class="news-section__link">
                    Alle Beiträge
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="m16.172 11-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"/></svg>
                </a>
            </div>
            <div class="news-section__grid">
                <!-- Main News Card -->
                <article class="news-main" id="newsMainCard">
                    <div class="news-main__image" id="newsMainImage">
                        <div class="news-main__placeholder"></div>
                    </div>
                    <div class="news-main__content">
                        <span class="news-main__badge">Aktuell</span>
                        <h3 class="news-main__title" id="newsMainTitle">Willkommen bei RIFT v2</h3>
                        <p class="news-main__excerpt" id="newsMainExcerpt">Die neue Version ist da! Entdecke das überarbeitete Design und neue Features.</p>
                        <div class="news-main__meta">
                            <span id="newsMainDate">Heute</span>
                            <span>·</span>
                            <span id="newsMainAuthor">RIFT Team</span>
                        </div>
                    </div>
                </article>
                
                <!-- News List -->
                <div class="news-list-wrapper">
                    <div class="news-list" id="newsList">
                        <!-- Dynamisch befüllt -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Quote of the Day -->
        <section class="daily-quote">
            <div class="daily-quote__card">
                <div class="daily-quote__content">
                    <div class="daily-quote__text">
                        <div class="daily-quote__label">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a1 1 0 0 1 .898.56l1.342 2.684 2.96.43a1 1 0 0 1 .554 1.706l-2.142 2.088.506 2.946a1 1 0 0 1-1.45 1.054L12 12.078l-2.668 1.39a1 1 0 0 1-1.45-1.054l.506-2.946-2.142-2.088a1 1 0 0 1 .554-1.706l2.96-.43 1.342-2.684A1 1 0 0 1 12 2z"/></svg>
                            Zitat des Tages
                        </div>
                        <blockquote class="daily-quote__quote" id="quoteText">
                            „Ein wahrer Held ist nicht der, der keine Angst kennt, sondern der, der trotz seiner Angst handelt."
                        </blockquote>
                        <div class="daily-quote__author" id="quoteAuthor">
                            Gandalf der Graue
                            <span class="daily-quote__source" id="quoteSource">— Der Herr der Ringe</span>
                        </div>
                    </div>
                    <div class="daily-quote__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l9.5 6v8L12 22l-9.5-6V8z"/><path d="M12 2v8l9.5-2M12 10L2.5 8M12 10v12"/></svg>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Widgets Section -->
        <section class="widgets-section">
            <h2 class="widgets-section__title">Übersicht</h2>
            
            <div class="widgets-grid">
                
                <!-- Letzte Sessions Widget -->
                <div class="widget">
                    <div class="widget__header">
                        <span class="widget__title">Letzte Sessions</span>
                        <a href="sessions.html" class="widget__action">Alle</a>
                    </div>
                    <div class="widget__content">
                        <div class="widget__list" id="widgetSessionsList">
                            <!-- Dynamisch befüllt -->
                        </div>
                        <div class="widget__empty" id="widgetSessionsEmpty" style="display: none;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zM4 9v10h16V9H4z"/></svg>
                            <span>Keine Sessions</span>
                        </div>
                    </div>
                    <div class="widget__footer" id="widgetSessionsFooter">
                        <a href="sessions.html?action=create" class="widget__btn">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></svg>
                            Neue Session
                        </a>
                    </div>
                </div>
                
                <!-- Meine Charaktere Widget -->
                <div class="widget">
                    <div class="widget__header">
                        <span class="widget__title">Meine Charaktere</span>
                        <a href="#" class="widget__action">Alle</a>
                    </div>
                    <div class="widget__content">
                        <div class="widget__list" id="widgetCharactersList">
                            <!-- Dynamisch befüllt -->
                        </div>
                        <div class="widget__empty" id="widgetCharactersEmpty" style="display: none;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/></svg>
                            <span>Keine Charaktere</span>
                        </div>
                    </div>
                    <div class="widget__footer" id="widgetCharactersFooter">
                        <a href="sheet-worldsapart.html?new=true" class="widget__btn">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></svg>
                            Neuer Charakter
                        </a>
                    </div>
                </div>
                
                <!-- Nächste Session Widget -->
                <div class="widget">
                    <div class="widget__header">
                        <span class="widget__title">Nächste Session</span>
                    </div>
                    <div class="widget__content">
                        <div class="widget__countdown" id="widgetCountdown" style="display: none;">
                            <div class="widget__countdown-item">
                                <span class="widget__countdown-value" id="widgetCountdownDays">0</span>
                                <span class="widget__countdown-label">Tage</span>
                            </div>
                            <div class="widget__countdown-item">
                                <span class="widget__countdown-value" id="widgetCountdownHours">0</span>
                                <span class="widget__countdown-label">Std</span>
                            </div>
                            <div class="widget__countdown-item">
                                <span class="widget__countdown-value" id="widgetCountdownMins">0</span>
                                <span class="widget__countdown-label">Min</span>
                            </div>
                        </div>
                        <div class="widget__session-info" id="widgetNextSession" style="display: none;">
                            <span class="widget__session-name" id="widgetNextSessionName">Session</span>
                            <span class="widget__session-date" id="widgetNextSessionDate">Datum</span>
                        </div>
                        <div class="widget__empty" id="widgetNextSessionEmpty">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1-10V7h-2v7h6v-2h-4z"/></svg>
                            <span>Keine geplante Session</span>
                        </div>
                    </div>
                </div>
                
            </div>
        </section>
        
        <!-- Feature Showcase -->
        <section class="feature-showcase">
            <div class="feature-showcase__frame">
                <div class="feature-showcase__glow"></div>
                <div class="feature-showcase__inner">
                    <div class="feature-showcase__visual">
                        <div class="feature-showcase__phone">
                            <div class="feature-showcase__phone-notch"></div>
                            <div class="feature-showcase__phone-content">
                                <div class="feature-showcase__phone-header">
                                    <span class="feature-showcase__phone-title">Charakterbogen</span>
                                </div>
                                <div class="feature-showcase__phone-char">
                                    <div class="feature-showcase__phone-name">Thalion Windläufer</div>
                                    <div class="feature-showcase__phone-class">Elf · Waldläufer · Level 5</div>
                                </div>
                                <div class="feature-showcase__phone-stats">
                                    <div class="feature-showcase__phone-stat"><span>STR</span><span class="feature-showcase__phone-stat-value">14</span></div>
                                    <div class="feature-showcase__phone-stat"><span>DEX</span><span class="feature-showcase__phone-stat-value">18</span></div>
                                    <div class="feature-showcase__phone-stat"><span>CON</span><span class="feature-showcase__phone-stat-value">12</span></div>
                                    <div class="feature-showcase__phone-stat"><span>INT</span><span class="feature-showcase__phone-stat-value">10</span></div>
                                    <div class="feature-showcase__phone-stat"><span>WIS</span><span class="feature-showcase__phone-stat-value">16</span></div>
                                    <div class="feature-showcase__phone-stat"><span>CHA</span><span class="feature-showcase__phone-stat-value">8</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="feature-showcase__artwork">
                            <img src="assets/img/rift_chars/full/char_5e2024_02.png" alt="Character">
                        </div>
                    </div>
                    <div class="feature-showcase__content">
                        <h2 class="feature-showcase__title">Spiele mit <span>RIFT</span></h2>
                        <p class="feature-showcase__subtitle">Digitale Tools für dein Tabletop-Abenteuer</p>
                        <div class="feature-showcase__tabs">
                            <button class="feature-showcase__tab active">Charakterbogen</button>
                            <button class="feature-showcase__tab">Würfel</button>
                            <button class="feature-showcase__tab">Maps VTT</button>
                        </div>
                        <h3 class="feature-showcase__headline">Erschaffe jeden Helden, den du dir vorstellen kannst</h3>
                        <ul class="feature-showcase__features">
                            <li class="feature-showcase__feature">
                                <span class="feature-showcase__feature-icon">
                                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"/></svg>
                                </span>
                                Vollständige Charakterbögen für D&D 5e, Worlds Apart & mehr
                            </li>
                            <li class="feature-showcase__feature">
                                <span class="feature-showcase__feature-icon">
                                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"/></svg>
                                </span>
                                Automatische Berechnungen und Würfelwürfe
                            </li>
                            <li class="feature-showcase__feature">
                                <span class="feature-showcase__feature-icon">
                                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"/></svg>
                                </span>
                                Synchronisation zwischen allen Geräten
                            </li>
                        </ul>
                        <a href="sheet-worldsapart.html?new=true" class="feature-showcase__cta">Charakter erstellen</a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- RIFT Plus Section -->
        <section class="rift-plus">
            <div class="rift-plus__header">
                <h2 class="rift-plus__title">Upgrade dein Abenteuer</h2>
                <p class="rift-plus__subtitle">Wähle den Plan, der zu dir passt</p>
            </div>
            <div class="rift-plus__grid">
                <div class="rift-plus__tier rift-plus__tier--base">
                    <div class="rift-plus__tier-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/></svg>
                    </div>
                    <h3 class="rift-plus__tier-name">RIFT Free</h3>
                    <div class="rift-plus__tier-price">
                        <span class="rift-plus__tier-amount">0€</span>
                        <span class="rift-plus__tier-period">/ für immer</span>
                    </div>
                    <ul class="rift-plus__tier-features">
                        <li>3 Charaktere pro Regelwerk</li>
                        <li>Basis Würfel-Roller</li>
                        <li>Session-Teilnahme</li>
                        <li>Party-Chat</li>
                    </ul>
                    <a href="#" class="rift-plus__tier-btn">Aktueller Plan</a>
                    <div class="rift-plus__tier-artwork">
                        <img src="assets/img/rift_chars/full/char_htbah_03.png" alt="">
                    </div>
                </div>
                
                <div class="rift-plus__tier rift-plus__tier--pro">
                    <div class="rift-plus__tier-badge">Empfohlen</div>
                    <div class="rift-plus__tier-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l2.4 7.4H22l-6 4.6 2.3 7-6.3-4.6L5.7 21l2.3-7-6-4.6h7.6z"/></svg>
                    </div>
                    <h3 class="rift-plus__tier-name">RIFT Plus</h3>
                    <div class="rift-plus__tier-price">
                        <span class="rift-plus__tier-amount">4,99€</span>
                        <span class="rift-plus__tier-period">/ Monat</span>
                    </div>
                    <ul class="rift-plus__tier-features">
                        <li>Unbegrenzte Charaktere</li>
                        <li>Premium Würfel-Themes</li>
                        <li>Sessions erstellen & leiten</li>
                        <li>Erweiterte Karten-Tools</li>
                        <li>Priority Support</li>
                    </ul>
                    <a href="donate.html" class="rift-plus__tier-btn rift-plus__tier-btn--primary">Upgrade starten</a>
                    <div class="rift-plus__tier-artwork">
                        <img src="assets/img/rift_chars/full/char_5e2024_05.png" alt="">
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="footer">
            <div class="footer__top">
                <div class="footer__brand">
                    <img src="assets/img/logo_rift.png" alt="RIFT" class="footer__logo">
                    <p class="footer__desc">Dein digitaler Begleiter für Pen & Paper Rollenspiele. Erschaffe Helden, würfle Schicksal, erlebe Geschichten.</p>
                    <div class="footer__social">
                        <a href="https://discord.gg/rift" class="footer__social-link" target="_blank" rel="noopener">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.369a19.79 19.79 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.249a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.249.077.077 0 0 0-.079-.037 19.736 19.736 0 0 0-4.885 1.515.07.07 0 0 0-.032.027C.533 9.045-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.127c.126-.094.252-.192.372-.292a.074.074 0 0 1 .078-.01c3.927 1.792 8.18 1.792 12.061 0a.074.074 0 0 1 .079.009c.12.099.246.199.373.293a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.891.077.077 0 0 0-.041.107c.36.698.772 1.363 1.225 1.993a.076.076 0 0 0 .084.029 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.055c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.029z"/></svg>
                        </a>
                        <a href="https://twitter.com/riftapp" class="footer__social-link" target="_blank" rel="noopener">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        </a>
                        <a href="https://github.com/riftapp" class="footer__social-link" target="_blank" rel="noopener">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.268 2.75 1.026A9.578 9.578 0 0 1 12 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.026 2.747-1.026.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.163 22 16.418 22 12c0-5.523-4.477-10-10-10z"/></svg>
                        </a>
                    </div>
                </div>
                <div class="footer__nav">
                    <h4 class="footer__nav-title">Produkt</h4>
                    <a href="about.html" class="footer__nav-link">Über RIFT</a>
                    <a href="roadmap.html" class="footer__nav-link">Roadmap</a>
                    <a href="branding.html" class="footer__nav-link">Branding</a>
                    <a href="donate.html" class="footer__nav-link">Unterstützen</a>
                </div>
                <div class="footer__nav">
                    <h4 class="footer__nav-title">Regelwerke</h4>
                    <a href="worldsapart.html" class="footer__nav-link">Worlds Apart</a>
                    <a href="#" class="footer__nav-link">D&D 5e (2024)</a>
                    <a href="#" class="footer__nav-link">How To Be A Hero</a>
                    <a href="#" class="footer__nav-link">Cyberpunk Red</a>
                </div>
                <div class="footer__nav">
                    <h4 class="footer__nav-title">Legal</h4>
                    <a href="privacy.html" class="footer__nav-link">Datenschutz</a>
                    <a href="imprint.html" class="footer__nav-link">Impressum</a>
                    <a href="contact.html" class="footer__nav-link">Kontakt</a>
                </div>
            </div>
            <div class="footer__bottom">
                <span class="footer__copyright">© 2025 RIFT. Mit ♥ für Rollenspieler.</span>
                <span class="footer__version">v2.5.0</span>
            </div>
        </footer>
        
    </main>
    
    <!-- BOTTOM DOCK -->
    <nav class="dock">
        <div class="dock__inner">
            <a href="index.html" class="dock__item dock__item--active" title="Hub">
                <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5192 7.82274C2 8.77128 2 9.91549 2 12.2039V13.725C2 17.6258 2 19.5763 3.17157 20.7881C4.34315 22 6.22876 22 10 22H14C17.7712 22 19.6569 22 20.8284 20.7881C22 19.5763 22 17.6258 22 13.725V12.2039C22 9.91549 22 8.77128 21.4808 7.82274C20.9616 6.87421 20.0131 6.28551 18.116 5.10812L16.116 3.86687C14.1106 2.62229 13.1079 2 12 2C10.8921 2 9.88939 2.62229 7.88403 3.86687L5.88403 5.10813C3.98695 6.28551 3.0384 6.87421 2.5192 7.82274ZM9 17.25C8.58579 17.25 8.25 17.5858 8.25 18C8.25 18.4142 8.58579 18.75 9 18.75H15C15.4142 18.75 15.75 18.4142 15.75 18C15.75 17.5858 15.4142 17.25 15 17.25H9Z"/></svg>
            </a>
            <a href="sessions.html" class="dock__item" title="Sessions">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4V1h2v2h6V1h2v2zM4 9v10h16V9H4z"/></svg>
            </a>
            <a href="dice.html" class="dock__item dock__item--primary" title="Würfeln">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm2 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm10 10a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM7 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm5-5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm5-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>
            </a>
            <a href="#" class="dock__item" title="Charakter" id="dockCharacterLink">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"/></svg>
            </a>
            <a href="chat.html" class="dock__item" title="Chat">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6.455 19L2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455z"/></svg>
            </a>
        </div>
    </nav>
    
    <!-- Firebase & Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    <script src="assets/js/firebase-config.js"></script>
    <script src="assets/js/character-storage.js"></script>
    <script src="assets/js/room-service.js"></script>
    <script src="assets/js/user-service.js"></script>
    <script src="assets/js/toast-service.js"></script>
    
    <!-- Hub V2 Script -->
    <script>
    /**
     * RIFT Hub V2 - Main Controller
     * Handles all dynamic functionality for the new Hub
     */
    const HubV2 = {
        // State
        currentSlide: 0,
        totalSlides: 3,
        carouselInterval: null,
        carouselDuration: 8000,
        roomData: null,
        userData: null,
        characters: [],
        sessions: [],
        
        // ========================================
        // INITIALIZATION
        // ========================================
        
        async init() {
            console.log('[HubV2] Initializing...');
            
            // Setup carousel
            this.initCarousel();
            
            // Wait for Firebase
            await this.waitForFirebase();
            
            // Load user data
            await this.loadUserData();
            
            // Load room/session data
            await this.loadRoomData();
            
            // Load characters
            await this.loadCharacters();
            
            // Load news
            this.loadNews();
            
            // Update UI
            this.updateUI();
            
            // Setup listeners
            this.setupListeners();
            
            console.log('[HubV2] Initialized');
        },
        
        async waitForFirebase() {
            return new Promise((resolve) => {
                if (window.RIFT?.firebase) {
                    resolve();
                    return;
                }
                
                let attempts = 0;
                const check = setInterval(() => {
                    attempts++;
                    if (window.RIFT?.firebase || attempts > 50) {
                        clearInterval(check);
                        resolve();
                    }
                }, 100);
            });
        },
        
        // ========================================
        // CAROUSEL
        // ========================================
        
        initCarousel() {
            // Create dots
            const dotsContainer = document.getElementById('carouselDots');
            if (dotsContainer) {
                dotsContainer.innerHTML = '';
                for (let i = 0; i < this.totalSlides; i++) {
                    const dot = document.createElement('button');
                    dot.className = `carousel__dot ${i === 0 ? 'active' : ''}`;
                    dot.onclick = () => this.goToSlide(i);
                    dotsContainer.appendChild(dot);
                }
            }
            
            // Start autoplay
            this.startCarousel();
        },
        
        startCarousel() {
            this.resetProgress();
            this.carouselInterval = setInterval(() => {
                this.nextSlide();
            }, this.carouselDuration);
        },
        
        stopCarousel() {
            if (this.carouselInterval) {
                clearInterval(this.carouselInterval);
                this.carouselInterval = null;
            }
        },
        
        resetProgress() {
            const progress = document.getElementById('carouselProgress');
            if (progress) {
                progress.style.transition = 'none';
                progress.style.width = '0%';
                setTimeout(() => {
                    progress.style.transition = `width ${this.carouselDuration}ms linear`;
                    progress.style.width = '100%';
                }, 50);
            }
        },
        
        goToSlide(index) {
            this.currentSlide = index;
            const track = document.getElementById('carouselTrack');
            if (track) {
                track.style.transform = `translateX(-${index * 100}%)`;
            }
            
            // Update dots
            document.querySelectorAll('.carousel__dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            
            // Restart timer
            this.stopCarousel();
            this.startCarousel();
        },
        
        nextSlide() {
            this.goToSlide((this.currentSlide + 1) % this.totalSlides);
        },
        
        prevSlide() {
            this.goToSlide((this.currentSlide - 1 + this.totalSlides) % this.totalSlides);
        },
        
        // ========================================
        // USER DATA
        // ========================================
        
        async loadUserData() {
            try {
                // Try Firebase first
                const user = window.RIFT?.firebase?.getCurrentUser?.() || firebase?.auth()?.currentUser;
                
                if (user) {
                    this.userData = {
                        uid: user.uid,
                        name: user.displayName || 'Spieler',
                        email: user.email || '',
                        avatar: user.photoURL || null
                    };
                }
                
                // Merge with localStorage
                const stored = localStorage.getItem('rift_user');
                if (stored) {
                    const local = JSON.parse(stored);
                    this.userData = {
                        ...this.userData,
                        name: local.name || local.displayName || this.userData?.name || 'Spieler',
                        color: local.color || '#FF4655',
                        avatar: local.avatar || local.photoURL || this.userData?.avatar || null,
                        isGM: local.isGM || false
                    };
                }
                
                this.updateUserDisplay();
                
            } catch (e) {
                console.warn('[HubV2] Error loading user data:', e);
            }
        },
        
        updateUserDisplay() {
            const user = this.userData || { name: 'Gast', color: '#FF4655' };
            
            // TopNav user display
            const userName = document.getElementById('userName');
            const userNameLarge = document.getElementById('userNameLarge');
            const userEmail = document.getElementById('userEmail');
            const userAvatar = document.getElementById('userAvatar');
            const userAvatarLarge = document.getElementById('userAvatarLarge');
            
            if (userName) userName.textContent = user.name;
            if (userNameLarge) userNameLarge.textContent = user.name;
            if (userEmail) userEmail.textContent = user.email || '';
            
            // Avatar
            const avatarStyle = user.avatar 
                ? `background-image: url('${user.avatar}'); background-size: cover;`
                : `background: linear-gradient(135deg, ${user.color || '#FF4655'}, ${user.color || '#FF4655'}88);`;
            
            if (userAvatar) userAvatar.style.cssText = avatarStyle;
            if (userAvatarLarge) userAvatarLarge.style.cssText = avatarStyle;
            
            // GM Center link
            const gmLink = document.getElementById('gmCenterLink');
            if (gmLink) {
                gmLink.style.display = user.isGM ? '' : 'none';
            }
        },
        
        // ========================================
        // ROOM DATA
        // ========================================
        
        async loadRoomData() {
            try {
                const roomCode = localStorage.getItem('rift_current_room');
                if (!roomCode) {
                    this.hideRoomUI();
                    return;
                }
                
                // Get room data
                if (window.RIFT?.rooms?.getRoom) {
                    this.roomData = await RIFT.rooms.getRoom(roomCode);
                }
                
                if (this.roomData) {
                    this.showRoomUI();
                    await this.loadRoomMembers(roomCode);
                } else {
                    this.hideRoomUI();
                }
                
            } catch (e) {
                console.warn('[HubV2] Error loading room data:', e);
                this.hideRoomUI();
            }
        },
        
        async loadRoomMembers(roomCode) {
            try {
                if (!window.RIFT?.rooms?.getRoomMembers) return;
                
                const members = await RIFT.rooms.getRoomMembers(roomCode);
                const onlineMembers = members.filter(m => m.online);
                
                // Update party avatars
                const avatarsContainer = document.getElementById('partyAvatars');
                if (avatarsContainer) {
                    avatarsContainer.innerHTML = onlineMembers.slice(0, 3).map(m => `
                        <div class="topnav__party-avatar" style="background: ${m.color || '#8b5cf6'};">
                            ${(m.name || m.displayName || '?').charAt(0).toUpperCase()}
                        </div>
                    `).join('');
                }
                
                // Update status
                const statusEl = document.getElementById('partyOnlineStatus');
                if (statusEl) statusEl.textContent = `${onlineMembers.length} Online`;
                
                // Update dropdown
                const partyName = document.getElementById('partyRoomName');
                const partyCount = document.getElementById('partyOnlineCount');
                const membersList = document.getElementById('partyMembersList');
                
                if (partyName) partyName.textContent = this.roomData?.name || 'Party';
                if (partyCount) partyCount.textContent = `${onlineMembers.length} von ${members.length} online`;
                
                if (membersList) {
                    membersList.innerHTML = members.map(m => `
                        <div class="topnav__dropdown-member">
                            <div class="topnav__dropdown-member-avatar" style="background: ${m.color || '#8b5cf6'};">
                                ${(m.name || m.displayName || '?').charAt(0).toUpperCase()}
                            </div>
                            <div class="topnav__dropdown-member-info">
                                <div class="topnav__dropdown-member-name">${m.name || m.displayName || 'Spieler'}</div>
                                <div class="topnav__dropdown-member-role">${m.role === 'gm' ? 'Game Master' : 'Spieler'}</div>
                            </div>
                            <div class="topnav__dropdown-member-status ${m.online ? '' : 'topnav__dropdown-member-status--offline'}"></div>
                        </div>
                    `).join('') + `
                        <div class="topnav__dropdown-divider"></div>
                        <a href="sessions.html?action=invite" class="topnav__dropdown-item">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>
                            Spieler einladen
                        </a>
                    `;
                }
                
            } catch (e) {
                console.warn('[HubV2] Error loading room members:', e);
            }
        },
        
        showRoomUI() {
            const roomCode = localStorage.getItem('rift_current_room');
            const formatted = roomCode ? roomCode.slice(0, 3) + '-' + roomCode.slice(3) : '---';
            
            document.getElementById('partyDropdown').style.display = '';
            document.getElementById('roomCodeDropdown').style.display = '';
            document.getElementById('roomCodeDisplay').textContent = formatted;
            document.getElementById('roomCodeLarge').textContent = formatted;
        },
        
        hideRoomUI() {
            document.getElementById('partyDropdown').style.display = 'none';
            document.getElementById('roomCodeDropdown').style.display = 'none';
        },
        
        // ========================================
        // CHARACTERS
        // ========================================
        
        async loadCharacters() {
            try {
                // Use CharacterStorage if available
                if (typeof CharacterStorage !== 'undefined') {
                    this.characters = await CharacterStorage.getAll() || [];
                } else {
                    // Fallback to localStorage
                    const stored = localStorage.getItem('rift_characters');
                    this.characters = stored ? JSON.parse(stored) : [];
                }
                
                this.updateCharacterUI();
                this.updateCharacterDropdown();
                
            } catch (e) {
                console.warn('[HubV2] Error loading characters:', e);
                this.characters = [];
            }
        },
        
        updateCharacterUI() {
            const hasCharacter = this.characters.length > 0;
            const mainChar = this.characters[0];
            
            // Quick Access Cards
            const cardEl = document.getElementById('qaCharacterCard');
            const emptyEl = document.getElementById('qaCharacterEmpty');
            
            if (hasCharacter && mainChar) {
                if (cardEl) {
                    cardEl.style.display = '';
                    cardEl.href = this.getSheetUrl(mainChar);
                    
                    document.getElementById('qaCharacterName').textContent = mainChar.name || 'Unbenannt';
                    document.getElementById('qaCharacterClass').textContent = mainChar.class || mainChar.race || mainChar.role || '';
                    
                    // Portrait
                    const portrait = document.getElementById('qaCharacterPortrait');
                    if (portrait) {
                        if (mainChar.portrait) {
                            portrait.style.backgroundImage = `url('${mainChar.portrait}')`;
                        } else {
                            portrait.style.background = 'linear-gradient(135deg, var(--purple), var(--accent))';
                        }
                    }
                }
                if (emptyEl) emptyEl.style.display = 'none';
            } else {
                if (cardEl) cardEl.style.display = 'none';
                if (emptyEl) emptyEl.style.display = '';
            }
            
            // Widget
            const widgetList = document.getElementById('widgetCharactersList');
            const widgetEmpty = document.getElementById('widgetCharactersEmpty');
            
            if (hasCharacter && widgetList) {
                widgetList.innerHTML = this.characters.slice(0, 3).map(char => `
                    <a href="${this.getSheetUrl(char)}" class="widget__item">
                        <div class="widget__item-icon" style="background: linear-gradient(135deg, var(--purple), var(--accent));">
                            ${(char.name || '?').charAt(0).toUpperCase()}
                        </div>
                        <div class="widget__item-info">
                            <span class="widget__item-title">${char.name || 'Unbenannt'}</span>
                            <span class="widget__item-meta">${char.class || char.race || char.role || ''}</span>
                        </div>
                    </a>
                `).join('');
                widgetEmpty.style.display = 'none';
            } else if (widgetEmpty) {
                widgetEmpty.style.display = '';
                if (widgetList) widgetList.innerHTML = '';
            }
            
            // Dock link
            const dockLink = document.getElementById('dockCharacterLink');
            if (dockLink && mainChar) {
                dockLink.href = this.getSheetUrl(mainChar);
            }
        },
        
        updateCharacterDropdown() {
            const grid = document.getElementById('characterDropdownGrid');
            if (!grid) return;
            
            const rulesets = [
                { id: 'worldsapart', name: 'Worlds Apart', sheet: 'sheet-worldsapart.html', icon: 'assets/img/rulesets/ruleset_worldsapart.svg' },
                { id: '5e2024', name: 'D&D 5e', sheet: 'sheet-5e.html', icon: 'assets/img/rulesets/ruleset_5e_2024.svg' },
                { id: 'htbah', name: 'How To Be A Hero', sheet: 'sheet-htbah.html', icon: 'assets/img/rulesets/ruleset_htbah.svg' },
                { id: 'cyberpunk', name: 'Cyberpunk Red', sheet: 'sheet-cyberpunkred.html', icon: 'assets/img/rulesets/ruleset_cyberpunkred.svg' }
            ];
            
            grid.innerHTML = rulesets.map(rs => `
                <a href="${rs.sheet}?new=true" class="meganav__dropdown-item">
                    <div class="meganav__dropdown-icon" style="background: rgba(255, 255, 255, 0.05);">
                        <img src="${rs.icon}" alt="${rs.name}" style="width: 24px; height: 24px;">
                    </div>
                    <div class="meganav__dropdown-text">
                        <span class="meganav__dropdown-title">${rs.name}</span>
                        <span class="meganav__dropdown-desc">Neuer Charakter</span>
                    </div>
                </a>
            `).join('');
        },
        
        getSheetUrl(char) {
            const sheets = {
                'worldsapart': 'sheet-worldsapart.html',
                'dnd5e': 'sheet-5e.html',
                '5e': 'sheet-5e-en.html',
                '5e-de': 'sheet-5e-de.html',
                '5e2024': 'sheet-5e.html',
                'htbah': 'sheet-htbah.html',
                'cyberpunk': 'sheet-cyberpunkred.html'
            };
            const sheet = sheets[char.ruleset] || 'sheet-worldsapart.html';
            return `${sheet}?id=${char.id}`;
        },
        
        // ========================================
        // NEWS
        // ========================================
        
        loadNews() {
            // Load from localStorage (same as existing news.js)
            const news1 = JSON.parse(localStorage.getItem('rift_news_1') || 'null');
            const news2 = JSON.parse(localStorage.getItem('rift_news_2') || 'null');
            
            // Default news
            const defaultNews = [
                {
                    title: 'Willkommen bei RIFT v2',
                    excerpt: 'Die neue Version ist da! Entdecke das überarbeitete Design und neue Features.',
                    date: new Date().toISOString(),
                    image: null,
                    author: 'RIFT Team'
                },
                {
                    title: 'Neue Features',
                    excerpt: 'Character Sheets, Dice Roller, Maps und vieles mehr.',
                    date: new Date().toISOString(),
                    image: null,
                    author: 'RIFT Team'
                }
            ];
            
            const mainNews = news1 || defaultNews[0];
            
            // Update main news card
            document.getElementById('newsMainTitle').textContent = mainNews.title;
            document.getElementById('newsMainExcerpt').textContent = mainNews.excerpt;
            document.getElementById('newsMainDate').textContent = this.formatDate(mainNews.date);
            document.getElementById('newsMainAuthor').textContent = mainNews.author || 'RIFT Team';
            
            if (mainNews.image) {
                document.getElementById('newsMainImage').innerHTML = `<img src="${mainNews.image}" alt="${mainNews.title}">`;
            }
            
            // News list (secondary news)
            const newsList = document.getElementById('newsList');
            if (newsList) {
                const secondaryNews = news2 || defaultNews[1];
                newsList.innerHTML = `
                    <div class="news-item">
                        <div class="news-item__image" style="background: linear-gradient(135deg, var(--purple), var(--accent));"></div>
                        <div class="news-item__content">
                            <span class="news-item__badge">Update</span>
                            <h4 class="news-item__title">${secondaryNews.title}</h4>
                        </div>
                    </div>
                `;
            }
        },
        
        formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 86400000) return 'Heute';
            if (diff < 172800000) return 'Gestern';
            
            return date.toLocaleDateString('de-DE', { day: 'numeric', month: 'short' });
        },
        
        // ========================================
        // UI UPDATE
        // ========================================
        
        updateUI() {
            this.updateSessionSlide();
            this.updateQuickAccessSession();
            this.updateWidgets();
        },
        
        updateSessionSlide() {
            const activeSession = JSON.parse(localStorage.getItem('rift_active_session') || 'null');
            const slide = document.getElementById('sessionSlide');
            
            if (activeSession && slide) {
                slide.dataset.hasSession = 'true';
                document.getElementById('sessionSlideTag').textContent = activeSession.status === 'live' ? '● Live' : 'Aktive Session';
                document.getElementById('sessionSlideTitle').innerHTML = `Zurück zu<br>${activeSession.name || 'Session'}`;
                document.getElementById('sessionSlideDesc').textContent = activeSession.description || 'Dein Abenteuer wartet.';
                document.getElementById('sessionSlideBtn').textContent = 'Weiterspielen';
                document.getElementById('sessionSlideBtn').href = `session.html?id=${activeSession.id}`;
                
                // Show in mega nav
                const activeLink = document.getElementById('activeSessionLink');
                if (activeLink) {
                    activeLink.style.display = '';
                    document.getElementById('activeSessionName').textContent = activeSession.name || 'Session';
                }
            }
        },
        
        updateQuickAccessSession() {
            const activeSession = JSON.parse(localStorage.getItem('rift_active_session') || 'null');
            const lastSession = JSON.parse(localStorage.getItem('rift_last_session') || 'null');
            const session = activeSession || lastSession;
            
            const cardEl = document.getElementById('qaSessionCard');
            const emptyEl = document.getElementById('qaSessionEmpty');
            
            if (session && cardEl) {
                cardEl.style.display = '';
                cardEl.href = `session.html?id=${session.id}`;
                
                document.getElementById('qaSessionTitle').textContent = session.name || 'Session';
                document.getElementById('qaSessionDesc').textContent = session.description || '';
                
                // Live indicator
                const liveEl = document.getElementById('qaSessionLive');
                if (liveEl) {
                    liveEl.style.display = activeSession?.status === 'live' ? '' : 'none';
                }
                
                if (emptyEl) emptyEl.style.display = 'none';
            } else {
                if (cardEl) cardEl.style.display = 'none';
                if (emptyEl) emptyEl.style.display = '';
            }
        },
        
        updateWidgets() {
            // Sessions widget would load from Firebase
            // For now, show empty state
            const sessionsEmpty = document.getElementById('widgetSessionsEmpty');
            if (sessionsEmpty) sessionsEmpty.style.display = '';
        },
        
        // ========================================
        // ACTIONS
        // ========================================
        
        copyRoomCode() {
            const code = localStorage.getItem('rift_current_room');
            if (code) {
                const formatted = code.slice(0, 3) + '-' + code.slice(3);
                navigator.clipboard.writeText(formatted).then(() => {
                    if (typeof showToast === 'function') {
                        showToast('Code kopiert!', 'success');
                    }
                });
            }
        },
        
        shareRoomLink() {
            const code = localStorage.getItem('rift_current_room');
            if (code) {
                const url = `${window.location.origin}/sessions.html?join=${code}`;
                if (navigator.share) {
                    navigator.share({ title: 'RIFT Session', url });
                } else {
                    navigator.clipboard.writeText(url).then(() => {
                        if (typeof showToast === 'function') {
                            showToast('Link kopiert!', 'success');
                        }
                    });
                }
            }
        },
        
        async leaveRoom() {
            if (!confirm('Möchtest du diese Session wirklich verlassen?')) return;
            
            try {
                const code = localStorage.getItem('rift_current_room');
                if (code && window.RIFT?.rooms?.leaveRoom) {
                    await RIFT.rooms.leaveRoom(code);
                }
                
                localStorage.removeItem('rift_current_room');
                localStorage.removeItem('rift_active_session');
                
                this.hideRoomUI();
                this.updateUI();
                
                if (typeof showToast === 'function') {
                    showToast('Session verlassen', 'info');
                }
            } catch (e) {
                console.error('[HubV2] Error leaving room:', e);
            }
        },
        
        async signOut() {
            try {
                if (window.RIFT?.firebase?.signOut) {
                    await RIFT.firebase.signOut();
                } else if (firebase?.auth) {
                    await firebase.auth().signOut();
                }
                
                // Clear local storage
                localStorage.removeItem('rift_user');
                localStorage.removeItem('rift_current_room');
                localStorage.removeItem('rift_active_session');
                
                window.location.href = 'login.html';
            } catch (e) {
                console.error('[HubV2] Error signing out:', e);
            }
        },
        
        // ========================================
        // LISTENERS
        // ========================================
        
        setupListeners() {
            // Auth state changes
            if (window.RIFT?.firebase?.onAuthStateChanged) {
                RIFT.firebase.onAuthStateChanged((user) => {
                    if (user) {
                        this.loadUserData();
                    } else {
                        // Redirect to login if not authenticated
                        // window.location.href = 'login.html';
                    }
                });
            }
            
            // Storage changes (from other tabs)
            window.addEventListener('storage', (e) => {
                if (e.key === 'rift_active_session' || e.key === 'rift_current_room') {
                    this.loadRoomData();
                    this.updateUI();
                }
            });
        }
    };
    
    // Initialize when DOM ready
    document.addEventListener('DOMContentLoaded', () => {
        HubV2.init();
    });
    </script>
    
</body>
</html>
